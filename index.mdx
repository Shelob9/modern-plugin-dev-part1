import { Head, Notes,future, highlight  } from 'mdx-deck'
import { theme } from './theme'
export const themes = [
  {...future,
  ...highlight,
  ...theme
  }
]

<Head>
  <title>
    The Modern WordPress Plugin Development Toolset (Part 1)
  </title>

</Head>

# The Modern WordPress Plugin Development Toolset (Part 1)

Josh Pollock | @josh412 | Josh412.eth

---

## What We Will Cover

To create your presentation

<Notes>
Create speaker notes with the Notes component
</Notes>

---

## The WordPress Stack

- Client (Browser)
  - JavaScript/ CSS/ HTML
- Server
  - PHP
- Database
  - MySQL

---


## React In WordPress


- Used in block editor
- Can be used for:
  - Admin pages
  - Front-end
  - Headless builds

---

## Developer Tooling

* Local Development Environment
* Dependency Management
* Automated Testing
* Compiling and Optimizing JS(X) and (SCSS)
* Code Quality
* CI/ CD

---

## Local Development

### Why

* Isolation
* Common setup for all developers on a project
* Automated configuration

---

## Local Development

### Solutions

* Docker
  - docker-compose
  - 10up Docker
  - Lando
* WordPress-specific GUI Apps
  - Desktop Server
  - Local by flywheel
* Virtual Machine
  - vvv
  - Homestead
---

## Local Development

### My Recommendation: Docker Compose

* Runs anywhere
  - Mac/ Windows/ Linux
  - Github Actions
  - vsCode dev containers
  - In the cloud
* Config as code
* Infinetly extendable

---

## Dependency Management


- For PHP: Composer
- For JavaScript: yarn or yarn

---
## Composer

- Adding packages
- Running scripts
- PHP autoloader

---

## Composer

### Basic

```json
{
    "name": "imaginary-machines/everything-all-of-the-time",
    "description": "Example of Plugin Machine generated plugin with many features on.",
    "type": "wordpress-plugin",
    "require": {
        "php": "^7.2|^8.0"
    },
    "autoload": {
        "psr-4": {
            "AllOfTheThings\\": "./php"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "AllOfTheThings\\Tests\\": "./tests"
        }
    },
    "require-dev": {
        "phpunit/phpunit": "^7.0",
        "yoast/phpunit-polyfills": "^0.1.0",
        "mockery/mockery": "1.2",
        "brain/monkey": "2.*",
        "squizlabs/php_codesniffer": "^3.6"
    },
    "scripts": {
        "test": "composer test:unit && composer test:wordpress",
        "test:unit": "phpunit --config=phpunit-unit.xml",
        "test:wordpress": "phpunit --config=phpunit-integration.xml",
        "sniffs": "phpcs php/ && phpcs tests/",
        "fixes": "phpcbf php/ && phpcbf tests/"
    }
}
```
---

## Composer

### Autoloader

```json
{
    "autoload": {
        "psr-4": {
            "AllOfTheThings\\": "./php"
        }
    },
    "autoload-dev": {
        "psr-4": {
            "AllOfTheThings\\Tests\\": "./tests"
        }
    }
}
```

## npm (or Yarn)


- Add additional functionality
  - For example: component library, API client, utility functions, etc.
- Compile code so it can run in the browser and optimize it
  - Babel, webpack, etc.
- Running scripts
- Configuring Packages

---

## Automated Tests

- Guide development.
- Prevent regression errors.
- Makes clear how the code is supposed to work.
- Debugging errors.
- Profiling performance.
- Surfacing a11y issues

### What




---

## Automated Tests

### Why Use

- Guide development.
- Prevent regression errors.
- Makes clear how the code is supposed to work.
- Debugging errors.
- Profiling performance.
- Surfacing a11y issues

---

## phpunit

- PHP test runner and assertions.
- Can be used with or without WordPress test suite.

---

## Composer For phpunit


```json
{
    "require-dev": {
        "phpunit/phpunit": "^7.0",
        "yoast/phpunit-polyfills": "^0.1.0",
        "mockery/mockery": "1.2",
        "brain/monkey": "2.*",
        "squizlabs/php_codesniffer": "^3.6"
    },
    "scripts": {
        "test:unit": "phpunit --config=phpunit-unit.xml",
        "test:wordpress": "phpunit --config=phpunit-integration.xml"
    }
}
```
---

## WordPress Scripts

- Compiles
  - WordPress-safe.
  - Works with `p_register_script/style()`
- Lints
- Runs tests
  - Uses and configures Jest.

---
## Compiling JavaScript

### Why

- Allows for alternative syntaxes
  - JSX
- Optimize JavaScript
- Optimize CSS

---


---

## JSX


---

## Testing JavaScript

---

## CI/ CD

---
